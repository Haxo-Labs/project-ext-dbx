---
title: Development Setup
description: Set up your development environment for DBX
---

# Development Setup

This guide will help you set up a development environment for DBX, the high-performance Universal Database API Server with backend-agnostic architecture.

## Prerequisites

Before you begin, make sure you have the following installed:

- **Rust** (1.70+) - [Install Rust](https://rustup.rs/)
- **Node.js** (18+) - [Install Node.js](https://nodejs.org/)
- **Docker** (optional) - [Install Docker](https://docs.docker.com/get-docker/)
- **Database Backend** (for testing):
  - **Redis** (currently supported) - [Install Redis](https://redis.io/download)
  - Additional backends coming soon (MongoDB, PostgreSQL, SQLite)

## Quick Start

### 1. Clone the Repository

```bash
git clone https://github.com/effortlesslabs/dbx.git
cd dbx
```

### 2. Build the Project

```bash
# Build the Rust components
cargo build --release

# Build the TypeScript SDK
cd bindings/dbx_ts
npm install
npm run build
cd ../..
```

### 3. Run the Development Server

```bash
# Run with default configuration (Redis backend)
cargo run --bin dbx-redis-api

# Run with custom backend URL
cargo run --bin dbx-redis-api -- --redis-url redis://localhost:6379
```

## Development Workflow

### Running Tests

```bash
# Run all Rust tests
cargo test

# Run TypeScript tests
cd bindings/dbx_ts
npm test
cd ../..

# Run integration tests
./scripts/test-with-server.sh
```

### Building Docker Image

```bash
# Build development image
docker build -t effortlesslabs/0dbx_redis:dev .

# Run development container
docker run -p 3000:3000 -e REDIS_URL=redis://host.docker.internal:6379 effortlesslabs/0dbx_redis:dev
```

### TypeScript SDK Development

```bash
# Navigate to TypeScript bindings
cd bindings/dbx_ts

# Install dependencies
npm install

# Build the SDK
npm run build

# Run tests
npm test

# Watch for changes
npm run dev
```

## Project Structure

```
dbx/
├── crates/
│   ├── dbx-core/         # Core engine with universal backend traits
│   ├── dbx-adapter/      # Database adapter layer
│   ├── dbx-config/       # Configuration management
│   ├── dbx-router/       # HTTP/WebSocket routing
│   └── adapter/          # Specific database adapters (Redis, etc.)
├── bindings/
│   └── dbx_ts/          # TypeScript SDK (NAPI bindings)
├── scripts/              # Development and deployment scripts
├── docs/                 # Documentation
└── tests/                # Integration tests
```

## Backend Configuration

### Currently Supported: Redis

| Variable    | Default                  | Description             |
| ----------- | ------------------------ | ----------------------- |
| `REDIS_URL` | `redis://localhost:6379` | Redis connection string |
| `PORT`      | `3000`                   | Server port             |
| `LOG_LEVEL` | `INFO`                   | Logging level           |
| `POOL_SIZE` | `10`                     | Connection pool size    |

### Development Configuration

Create a `.env` file for local development:

```bash
# Current Redis backend
REDIS_URL=redis://localhost:6379
PORT=3000
LOG_LEVEL=DEBUG
POOL_SIZE=5

# Future: Other backends will use similar patterns
# MONGO_URL=mongodb://localhost:27017/dbx
# POSTGRES_URL=postgresql://localhost:5432/dbx
```

## Testing

### Unit Tests

```bash
# Test specific crate
cargo test -p dbx-core
cargo test -p dbx-adapter

# Test with output
cargo test -- --nocapture
```

### Integration Tests

```bash
# Run integration tests with database server
./scripts/test-with-server.sh

# Run simple tests
./scripts/test-simple.sh
```

### TypeScript SDK Tests

```bash
cd bindings/dbx_ts
npm run test:run
```

## Debugging

### Rust Debugging

```bash
# Run with debug logging
RUST_LOG=debug cargo run --bin dbx-redis-api

# Run with specific module logging
RUST_LOG=dbx_core=debug,dbx_adapter=debug cargo run --bin dbx-redis-api
```

### Docker Debugging

```bash
# Run with debug mode
docker run -p 3000:3000 \
  -e LOG_LEVEL=DEBUG \
  -e REDIS_URL=redis://host.docker.internal:6379 \
  effortlesslabs/0dbx_redis:dev
```

## Performance Testing

```bash
# Run benchmarks
cargo bench

# Load testing with wrk
wrk -t12 -c400 -d30s http://localhost:3000/redis/admin/health
```

## Backend Development

### Adding New Database Backends

DBX uses a pluggable adapter system. To add a new backend:

1. **Implement the UniversalBackend trait** in `crates/dbx-core/src/backends.rs`
2. **Create adapter implementation** in `crates/adapter/src/your_backend/`
3. **Add configuration support** in `crates/dbx-config/`
4. **Update routing** in `crates/dbx-router/` for backend-specific endpoints

```rust
// Example: Implementing a new backend
#[async_trait]
impl UniversalBackend for YourBackend {
    async fn execute_data(&self, operation: DataOperation) -> Result<DataResult, DbxError> {
        // Your implementation
    }
    // Additional required methods
}
```

## Common Issues

### Database Connection Issues

```bash
# Redis: Check Redis is running
redis-cli ping

# Test connection
redis-cli -h localhost -p 6379 ping

# Future backends will have similar diagnostic commands
```

### Port Conflicts

```bash
# Check what's using port 3000
lsof -i :3000

# Use different port
PORT=3001 cargo run --bin dbx-redis-api
```

### Build Issues

```bash
# Clean and rebuild
cargo clean
cargo build --release

# Update dependencies
cargo update
```

## Architecture Overview

DBX follows a modular, backend-agnostic architecture:

- **Core Engine** (`dbx-core`) - Universal backend traits and operation types
- **Adapter Layer** (`dbx-adapter`) - Database-specific implementations  
- **Configuration** (`dbx-config`) - Backend configuration management
- **Routing** (`dbx-router`) - HTTP/WebSocket request routing
- **API Server** - HTTP/WebSocket server with unified endpoints

## Next Steps

- **[Contributing Guide](/docs/development/contributing)** - Learn how to contribute to DBX
- **[API Documentation](/docs/api/rest/string)** - Explore the API endpoints
- **[TypeScript SDK](/docs/sdk/typescript/installation)** - Use the TypeScript client
- **[Backend Architecture](/docs/architecture/backends)** - Understand the pluggable backend system
